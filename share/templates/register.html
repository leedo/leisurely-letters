? my ($app, $parameters, $errors) = @_;

<script type="text/javascript">
  document.observe("dom:loaded", function () {
    var submit = function (event) {
      if (event.keyCode == Event.KEY_RETURN) {
        $('login').submit();
      }
    };
    $('email').observe("keypress", submit);
    $('display_name').observe("keypress", submit);
    $('password').observe("keypress", submit);
  });
</script>

<form action="/register" method="post" id="login">
  <h2>Register</h2>
  <label for="email">Email Address</label>
  <input type="email" name="email" value="<?= $parameters->{email} || "" ?>" id="email" />

  <label for="display_name">Display Name</label>
  <input type="text" name="display_name" value="<?= $parameters->{display_name} || "" ?>" id="display_name" />

  <label for="password">Password</label>
  <input type="password" name="password" value ="" id="password" />

  <button type="submit" style="float:left">Register</button>
  <a href="/login" style="float:left;font-size:12px;margin-top:4px;margin-left:10px">Login</a>

  <? if (@$errors) { ?>
  <div style="clear:both">
    <? for my $error (@$errors) { ?>
    <span class="error"><?= $error ?></span>
    <? } ?>
  </div>
  <? } ?>
</form>
<?= $_mt->render_file("description.html", $app) ?>
